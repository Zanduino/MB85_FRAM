<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MB85_FRAM: MB85_FRAM_Class Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MB85_FRAM
   &#160;<span id="projectnumber">v1.0.6</span>
   </div>
   <div id="projectbrief">Arduino Library for the MB85FRAM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_m_b85___f_r_a_m___class.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_m_b85___f_r_a_m___class-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MB85_FRAM_Class Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Access the MB85_FRAM Family of memories.  
 <a href="class_m_b85___f_r_a_m___class.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a903753cad3a824612e8020a07467a801"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#a903753cad3a824612e8020a07467a801">MB85_FRAM_Class</a> ()</td></tr>
<tr class="separator:a903753cad3a824612e8020a07467a801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46329c41b90c9f8b1e18899f5dff111d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#a46329c41b90c9f8b1e18899f5dff111d">~MB85_FRAM_Class</a> ()</td></tr>
<tr class="separator:a46329c41b90c9f8b1e18899f5dff111d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544e3f433de9f7ed83096cd7cad14049"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#a544e3f433de9f7ed83096cd7cad14049">begin</a> (const uint32_t i2cSpeed=<a class="el" href="_m_b85___f_r_a_m_8h.html#a348cbfad3423827f84b19829d91be1a7">I2C_STANDARD_MODE</a>)</td></tr>
<tr class="separator:a544e3f433de9f7ed83096cd7cad14049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8277f556d7be8cbcc869f9cc250151f0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#a8277f556d7be8cbcc869f9cc250151f0">totalBytes</a> ()</td></tr>
<tr class="separator:a8277f556d7be8cbcc869f9cc250151f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604647692122d15e431603bd40fef03b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#a604647692122d15e431603bd40fef03b">memSize</a> (const uint8_t memNumber)</td></tr>
<tr class="separator:a604647692122d15e431603bd40fef03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd11135b91283631c7b529f80e01053e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:acd11135b91283631c7b529f80e01053e"><td class="memTemplItemLeft" align="right" valign="top">uint8_t &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#acd11135b91283631c7b529f80e01053e">read</a> (const uint32_t addr, T &amp;value)</td></tr>
<tr class="memdesc:acd11135b91283631c7b529f80e01053e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare the read method as a template function.  <a href="#acd11135b91283631c7b529f80e01053e">More...</a><br /></td></tr>
<tr class="separator:acd11135b91283631c7b529f80e01053e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f8215e0fcd7605bd2a7b888ab6f282"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab9f8215e0fcd7605bd2a7b888ab6f282"><td class="memTemplItemLeft" align="right" valign="top">uint8_t &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#ab9f8215e0fcd7605bd2a7b888ab6f282">write</a> (const uint32_t addr, const T &amp;value)</td></tr>
<tr class="separator:ab9f8215e0fcd7605bd2a7b888ab6f282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11406e4bf76703b04ddf53f8f35b984e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a11406e4bf76703b04ddf53f8f35b984e"><td class="memTemplItemLeft" align="right" valign="top">uint32_t &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_m_b85___f_r_a_m___class.html#a11406e4bf76703b04ddf53f8f35b984e">fillMemory</a> (const T &amp;value)</td></tr>
<tr class="separator:a11406e4bf76703b04ddf53f8f35b984e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Access the MB85_FRAM Family of memories. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a903753cad3a824612e8020a07467a801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903753cad3a824612e8020a07467a801">&#9670;&nbsp;</a></span>MB85_FRAM_Class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MB85_FRAM_Class::MB85_FRAM_Class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class constructor</p>
<p>Currently empty and unused</p>

</div>
</div>
<a id="a46329c41b90c9f8b1e18899f5dff111d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46329c41b90c9f8b1e18899f5dff111d">&#9670;&nbsp;</a></span>~MB85_FRAM_Class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MB85_FRAM_Class::~MB85_FRAM_Class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class destructor</p>
<p>Currently empty and unused</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a544e3f433de9f7ed83096cd7cad14049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a544e3f433de9f7ed83096cd7cad14049">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MB85_FRAM_Class::begin </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>i2cSpeed</em> = <code><a class="el" href="_m_b85___f_r_a_m_8h.html#a348cbfad3423827f84b19829d91be1a7">I2C_STANDARD_MODE</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>starts communications with the device</p>
<p>There are 4 possible memory sizes, 8kB, 16kB, 32kB, and 64kB and this function will automatically determine the size of each memory found. The memories will wrap around from the highest-address back to 0 on reads/writes and the detection process makes use of this feature. The contents of memory address 0 is saved and overwritten with 0x00. Then, starting with the smallest memory, the value of the highest value for that memory plus 1 is stored and written as 0xFF. If address 0 has changed to 0xFF then we know we've had a wrap-around and have identified the chip, otherwise we repeat the procedure for the next possible memory size address and so on. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cSpeed</td><td>I2C Bus speed in Herz </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of MB85 devices detected</dd></dl>

</div>
</div>
<a id="a11406e4bf76703b04ddf53f8f35b984e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11406e4bf76703b04ddf53f8f35b984e">&#9670;&nbsp;</a></span>fillMemory()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t&amp; MB85_FRAM_Class::fillMemory </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Declare the <a class="el" href="class_m_b85___f_r_a_m___class.html#a11406e4bf76703b04ddf53f8f35b984e">fillMemory()</a> method to write as many copies of the "&amp;value" parameter as will fit into the the available memory space</p>
<p>The bigger the "&amp;value" datatype is, the faster this call will function. Any extra bytes left over if the memory is not divisible by the length of the "&amp;data" is left untouched </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Data Type "T" to fill memory with </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of loop iterations used to fill memory</dd></dl>

</div>
</div>
<a id="a604647692122d15e431603bd40fef03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a604647692122d15e431603bd40fef03b">&#9670;&nbsp;</a></span>memSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t MB85_FRAM_Class::memSize </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>memNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the device size in Bytes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">memNumber</td><td>Memory index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Memory size in Bytes</dd></dl>

</div>
</div>
<a id="acd11135b91283631c7b529f80e01053e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd11135b91283631c7b529f80e01053e">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t&amp; MB85_FRAM_Class::read </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Declare the read method as a template function. </p>
<p>Declare the read method as a template function, this needs to be done in the header file rather than by declaring the prototype here and putting the body into the cpp library file. All reading is done through this function. Multiple memories are treated as if they were one large memory, the space is contiguous and a read will wrap around from the end of memory to the beginning. The function can be called with any type of argument as the "&amp;value", including arrays and structures. Although the I2C "wire" has a 32 byte buffer limit, this library will automatically split bigger reads into multiple calls. The size of the "&amp;value" parameter is returned as the optional function value </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Memory address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Data Type "T" to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes read </dd></dl>

</div>
</div>
<a id="a8277f556d7be8cbcc869f9cc250151f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8277f556d7be8cbcc869f9cc250151f0">&#9670;&nbsp;</a></span>totalBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t MB85_FRAM_Class::totalBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the total memory availabe in all MB85 memories </p><dl class="section return"><dt>Returns</dt><dd>Total number of bytes available in all memories</dd></dl>

</div>
</div>
<a id="ab9f8215e0fcd7605bd2a7b888ab6f282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f8215e0fcd7605bd2a7b888ab6f282">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t&amp; MB85_FRAM_Class::write </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Declare the write method as a template function</p>
<p>Declare the write method as a template function, this needs to be done in the header file rather than by declaring the prototype here and putting the body into the cpp library file. All reading is done through this function. Multiple memories are treated as if they were one large memory, the space is contiguous and a read will wrap around from the end of memory to the beginning. The function can be called with any type of argument as the "&amp;value", including arrays and structures. Although the I2C "wire" has a 32 byte buffer limit, this library will automatically split bigger reads into multiple calls. The size of the "&amp;value" parameter is returned as the optional function value </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Memory address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Data Type "T" to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written</dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_m_b85___f_r_a_m_8h_source.html">MB85_FRAM.h</a></li>
<li>src/<a class="el" href="_m_b85___f_r_a_m_8cpp.html">MB85_FRAM.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_m_b85___f_r_a_m___class.html">MB85_FRAM_Class</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
